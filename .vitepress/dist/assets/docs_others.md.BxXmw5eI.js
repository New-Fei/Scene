import{_ as i,c as a,o as t,ag as l}from"./chunks/framework.BgId8OS5.js";const r=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/others.md","filePath":"docs/others.md"}'),e={name:"docs/others.md"};function n(h,s,p,k,o,d){return t(),a("div",null,s[0]||(s[0]=[l(`<h2 id="其它函数" tabindex="-1">其它函数 <a class="header-anchor" href="#其它函数" aria-label="Permalink to &quot;其它函数&quot;">​</a></h2><ul><li>在Scene自己的配置中，有时会出现一些文档[主要功能]中未提及的函数</li><li>其它一般是某种常用操作的聚合体，在此可稍作了解</li></ul><h3 id="msm-reset-mtk-reset" tabindex="-1"><code>@msm_reset</code> <code>@mtk_reset</code> <a class="header-anchor" href="#msm-reset-mtk-reset" aria-label="Permalink to &quot;\`@msm_reset\` \`@mtk_reset\`&quot;">​</a></h3><ul><li>这两个函数常用作切换模式时执行的第一个操作，</li><li>前者是重置<code>msm_performance</code></li><li>后者是重置<code>cpufreq_debug</code></li><li>目的都是避免某些<code>boost</code>导致通过<code>cpufreq</code>无法修改频率</li></ul><h3 id="thermal-threshold" tabindex="-1"><code>@thermal_threshold</code> <a class="header-anchor" href="#thermal-threshold" aria-label="Permalink to &quot;\`@thermal_threshold\`&quot;">​</a></h3><ul><li>这个函数用于修改CPU/GPU核心温度墙</li><li>常用于骁龙(845及以上)、天玑(1100及以上)旗舰处理器</li><li>合理范围为为95°C ~ 100°C，即数值 <code>95000</code> ~ <code>100000</code></li><li>超过此范围可能不生效或出现预料之外的bug</li></ul><h3 id="mtk-renew" tabindex="-1"><code>@mtk_renew</code> <a class="header-anchor" href="#mtk-renew" aria-label="Permalink to &quot;\`@mtk_renew\`&quot;">​</a></h3><ul><li>由于天玑8100/9000等新天玑处理器修改了某些参数后，</li><li>会导致PowerHAL因无法成功写入参数而无限重试和报错，这可能会增加待机功耗</li><li>因此建议在<code>standby</code>时调用<code>@mtk_renew</code>，重置相关参数的权限和所有者，让PowerHAL可以成功写入参数</li></ul><h3 id="sched-limit" tabindex="-1"><code>@sched_limit</code> <a class="header-anchor" href="#sched-limit" aria-label="Permalink to &quot;\`@sched_limit\`&quot;">​</a></h3><ul><li>适用于<code>schedutil</code> <code>sugov_ext</code> <code>walt</code> 等调速器修改</li><li><code>down_rate_limit_us</code> 和 <code>up_rate_limit_us</code></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 原始写法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;call&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy0/schedutil/down_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy0/schedutil/up_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy4/schedutil/down_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy4/schedutil/up_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy7/schedutil/down_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys/devices/system/cpu/cpufreq/policy7/schedutil/up_rate_limit_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 等效写法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;call&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@sched_limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0 1000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0 3000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0 2000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="msm-feas-mtk-feas" tabindex="-1"><code>@msm_feas</code> <code>@mtk_feas</code> <a class="header-anchor" href="#msm-feas-mtk-feas" aria-label="Permalink to &quot;\`@msm_feas\` \`@mtk_feas\`&quot;">​</a></h3><ul><li>使用指定参数尝试开启小米的FEAS(如果支持)</li><li>如果开启成功，会自动清掉<code>@limiters</code>指定的辅助调速器</li><li>用法如 [&quot;@msm_feas&quot;, &quot;MIN_FREQ_INDEX&quot;, &quot;MAX_FREQ_INDEX&quot;]</li><li>FREQ_INDEX 指定频率索引范围(0~N)，值越小频率越高，N的最大值取决于内核模块中的定义</li></ul><h3 id="utilization-clamping-uclamp" tabindex="-1">Utilization Clamping @uclamp <a class="header-anchor" href="#utilization-clamping-uclamp" aria-label="Permalink to &quot;Utilization Clamping @uclamp&quot;">​</a></h3><ul><li>uclamp作为schedtune的替代方案，在Linux Kernel中引入</li><li>因此，并非所有设备都能使用该特性</li><li>@uclamp具有至多3个参数，用法非常简单</li><li>例如：</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@uclamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.00~max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.00~max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.00~max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><ul><li>3个参数分别对应cpuctl中background、foreground、top-app的cpu.uclamp.min和cpu.uclamp.max，两个值之间以 ~ 符号分隔</li></ul><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">​</a></h3><ul><li>使用@governor可以切换CPU调速器</li><li>允许指定两个或更多值，实现调速器优选（仅限Scene7.0+）</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 指定单个调速器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@governor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;shchedutil&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果设备支持walt则用walt，不支持则用用shchedutil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@governor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;walt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;shchedutil&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div>`,20)]))}const c=i(e,[["render",n]]);export{r as __pageData,c as default};
